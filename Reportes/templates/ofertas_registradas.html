{% extends "base.html" %}
{% load bootstrap3 %}
{% load static %}


{% block titulo %}
		Reporte de Ofertas
{% endblock titulo %}


{% block extrahead %}
    <link href="{% static 'css/plugins/c3/c3.min.css' %}" rel="stylesheet">
{% endblock %}


{% block contenido %}
    <div class="wrapper wrapper-content animated fadeInRight">
        <div class="ibox float-e-margins">
            <div class="ibox-title">
                <h5>Ofertas por tipo de monitoria</h5>
            </div>
            <div class="ibox-content" style="display: flex;justify-content: space-between">
                <div class="col-lg-6">
                    <canvas id="chart" height="140"></canvas>
                </div>
                <div class="col-lg-6">
                    <canvas id="chart2" height="200"></canvas>
                </div>
            </div>
        </div>
    </div>

{% endblock contenido %}


{% block plugins %}

    <!-- ChartJS-->
    <script src="{% static 'js/plugins/chartJs/Chart.min.js' %}"></script>

    <script>
        $(function () {

            var config = {
                type: 'doughnut',
                data: {
                    datasets: [{
                        data: {{ ofertas }},
                        backgroundColor: [
                            'rgba(26,179,148,0.8)',
                            'rgba(220, 178, 26, 1)',
                            'rgba(220, 26, 26, 0.8)',
                            'rgba(26,150,220,0.5)',
                        ]
                    }],
                    labels: {{ etiquetas|safe }}
                },
                options: {
                    responsive: true,
                    legend: {
                        position: 'top',
                    },
                    title: {
                        display: true,
                        text: 'Cantidad de Ofertas por Tipo de Monitoria'
                    },
                    animation: {
                        animateScale: true,
                        animateRotate: true
                    }
                }
            };

            var ctx = document.getElementById("chart").getContext("2d");
            new Chart(ctx, config);

            var config2 = {
                type: 'bar',
                data: {
                    datasets: [
                        {
                            label: "Administrativa",
                            backgroundColor: 'rgba(26,179,148,0.8)',
                            pointBorderColor: "#fff",
                            stack: 'Stack 0',
                            data: {{ administrativa }}
                        },
                        {
                            label: "Docencia",
                            backgroundColor: 'rgba(220, 178, 26, 1)',
                            pointBackgroundColor: "rgba(26,179,148,1)",
                            pointBorderColor: "#fff",
                            stack: 'Stack 0',
                            data: {{ docencia }}
                        },
                        {
                            label: "Investigacion",
                            backgroundColor: 'rgba(220, 26, 26, 0.8)',
                            pointBackgroundColor: "rgba(26,179,148,1)",
                            pointBorderColor: "#fff",
                            stack: 'Stack 0',
                            data: {{ investigacion }}
                        },
                        {
                            label: "Especial",
                            backgroundColor: 'rgba(26,150,220,0.5)',
                            pointBackgroundColor: "rgba(26,179,148,1)",
                            pointBorderColor: "#fff",
                            stack: 'Stack 0',
                            data: {{ especial }}
                        }
                    ],
                    labels: {{ etiquetas_dependencias|safe }}
                },
                options: {
                    responsive: true,
                    scales: {
                        xAxes: [{
                            stacked: true,
                        }],
                        yAxes: [{
                            stacked: true
                        }]
                    },
                    legend: {
                        position: 'top',
                    },
                    title: {
                        display: true,
                        text: 'Ofertas de monitoria por dependencias'
                    },
                }
            };

            var ctx2 = document.getElementById("chart2").getContext("2d");
            new Chart(ctx2, config2);

        });

    </script>

{% endblock plugins %}